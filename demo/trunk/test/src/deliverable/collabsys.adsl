featuremodel "platform:/resource/org.openarchitectureware.demo.fm/org.openarchitectureware.demo.fm.xfm.xmi";

import 'components/logic.adsl'
import 'components/ui.adsl'
     

// Ich habe hier für collabsys mehrere partielle Regionen definiert, um 
// die feature-spezifischen Elemente übersichtlicher zu gruppieren. 
// Andernfalls (1 collabsys-Region) würden an jedem Element die
// features haften und es würde unübersichtlich werden.


deliverablesystem collabsys  feature Forum {
	instance forumUI : ForumUI ;
	
	instance forumDispatcher : MessageDispatcher
	config {
		p1 = "forum dipatcher config"
	};
	instance forumService : ForumService;
	connect forumDispatcher.forumPort to forumService.forumPort;
	 		 
	connect forumUI.commPort to forumDispatcher.dispatcher;
	
}
	
	
deliverablesystem collabsys feature  MicroBlogging {
	instance mbUI : MicroBloggingUI ;
	
	instance mbDispatcher : MessageDispatcher
	config {
		p1 = "MicroBlogging dipatcher config"
	};
	instance mbService : MicroBloggingService;
	connect mbDispatcher.mbPort to mbService.mbPort;
	 		 
	connect mbUI.commPort to mbDispatcher.dispatcher;
}


deliverablesystem collabsys feature SynchronousConferencing {
	instance imUI : InstantMessagingUI; 
	instance audioCon : AudioService feature Audio;
	
	instance imDispatcher : MessageDispatcher	
	config {
		p1 = "Hallo: Meine Config"
	};
	instance imService : InstantMessagingService;
	connect imDispatcher.imPort to imService.imPort;
	
	instance telCon : TelephoneConnection feature TelephoneIntegration;
	connect imService.audioConnection to telCon.audioCon;
	
	instance voipCon : VOIPConnection feature VoiceOverIP;
	connect imService.audioConnection to voipCon.audioCon;
	
	connect imUI.commPort to imDispatcher.dispatcher;
}	

