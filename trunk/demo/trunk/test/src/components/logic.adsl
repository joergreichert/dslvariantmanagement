import 'components/lib.adsl'  

system collabSPL {

	system logic {
		using lib.types;
		
		struct UserInfo {
			username : string;
			name : string;
			status : int;
		}
				  
		interface IMicroBloggingService {
			oneway updateMessage: ( senderID: int ); 
		}
		
		interface IInstantMessagingService {
			oneway sendMessage: ( senderID: int, receiverID: int ); 
		}
		
		persistencecomponent CollabDB {

		}
		
		/**  feature InstantMessaging **/ 
		blcomponent InstantMessagingDispatcher {
			provides toMany commPort: IInstantMessagingService;
			config {
				instancedef p1: text
				deployment p2: boolean
				startup p3: numeric
			}
		}
		
		/** feature MicroBlogging **/
		blcomponent MicroBloggingDispatcher {
			provides toMany commPort: IMicroBloggingService;
			config {
				instancedef p1: text
				deployment p2: boolean
				startup p3: numeric
			}
		}
	} 


}